<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head') -%>
</head>

<body>
    
    <% if (user) { %>
<!--  add input forms here -->
        <form>
            
            <h1 class="h3 mb-3 font-weight-normal">Add Functional Areas</h1>

            <div id="errorMessage">

            </div>

            <label for="functionalArea" class="sr-only">Functional Areas</label>
            <input type="text" id="functionalArea" class="form-control" placeholder="Enter Functional Area" required autofocus>

            <button class="btn btn-lg btn-primary btn-block" type="submit" onclick="submitFunctionalArea(event)">Submit</button>
    
        </form>

    <% } %>

    
</body>

<!--add links to app.js and axios.js  -->

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript" src="/js/script.js"></script>

<script type="text/javascript">
    function submitFunctionalArea(event) {
        console.log('bang');
        event.preventDefault();
        let function_input = document.getElementById('functionalArea').value;

        let data = {
            function : function_input
        };
        console.log(data, 'functional Area');
        
        createFunctionalArea(data)
            .then(res => {
                // response was a success
                document.getElementById('functionalArea').value = '';
                console.log('wooo!', res);
            })
            .catch(err => {
                // response failed
            });

    }




    </script>
</html>