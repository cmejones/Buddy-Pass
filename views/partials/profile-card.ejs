
<div class="card">

    <div class="header">

        <div class="photo">
            <img src="<%= user.photo%>" alt="profile-img" class="profile-photo">
        </div>

        <h4 class="card-title"><%= user.firstName %> <%= user.lastName %></h4>
        <hr>
        <p class="card-text text-left">Bio: <%= user.bio %></p>
        <hr>
        <p class="card-text text-left">Department: <%= user.department %></p>
        <p class="card-text text-left">Title: <%= user.title %></p>
        <p class="card-text text-left">Preferred Method of Communication: <%= user.communication %></p>
        
        <p class="card-text text-left">My Strengths:  
            <ul id="userSkills">

            </ul>  
        </p>
        <p class="card-text text-left">Areas for Improvement: 
            <ul id="userWeaknesses">

            </ul>  
        </p>
        <p class="card-text text-left">What I want to learn:
            <ul id="userGoals">

            </ul>  
        </p>
    </div>
    <div class="photo">

    </div>
    <hr>
    <div class="card-footer">
        <a href="mailto:<%= user.email %>"><i class="fas fa-envelope-open-text fa-2x"></i></a>
    </div>
    <div class="content">
        <a href="/profile/edit" class="btn btn-primary">update</a>
        <button class="btn btn-primary" onclick="profileDelete()">delete profile</button>
        <% if (user) { %>
            <button class="btn btn-primary" onclick="appLogout()">Logout</button>
        <% } %>

    </div>
</div>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript" src="/js/script.js"></script>

<script type="text/javascript">
    var userSkills = document.getElementById("userSkills"); 
    axios.get('/api/user-skills')
    .then(function (response) {
        console.log(response);
        response.data.forEach(function (userSkill) {
            var optionSkill = document.createElement('li');
            userSkills.append(optionSkill);
            optionSkill.value = userSkill['id'];
            optionSkill.innerText = userSkill['skills_id'];
        });
    })
    
</script>
